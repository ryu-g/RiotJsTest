{"version":3,"sources":["node_modules/riot/lib/browser/common/util/dom/$.js","node_modules/riot/lib/browser/common/global-variables.js","node_modules/riot/lib/browser/common/util/dom/make-element.js","node_modules/riot/lib/browser/common/util/dom/set-attribute.js","node_modules/riot/lib/browser/tag/styleManager.js","node_modules/riot-tmpl/dist/es6.tmpl.js","node_modules/riot-observable/dist/observable.js","node_modules/riot/lib/browser/common/util/misc/get-prop-descriptor.js","node_modules/riot/lib/browser/common/util/checks/is-undefined.js","node_modules/riot/lib/browser/common/util/checks/is-writable.js","node_modules/riot/lib/browser/common/util/misc/extend.js","node_modules/riot/lib/browser/common/util/misc/object-create.js","node_modules/riot/lib/settings.js","node_modules/riot/lib/browser/common/util/dom/$$.js","node_modules/riot/lib/browser/common/util/dom/create-placeholder.js","node_modules/riot/lib/browser/common/util/dom/toggle-visibility.js","node_modules/riot/lib/browser/common/util/dom/get-attribute.js","node_modules/riot/lib/browser/common/util/dom/remove-attribute.js","node_modules/riot/lib/browser/common/util/dom/set-inner-HTML.js","node_modules/riot/lib/browser/common/util/dom/walk-attributes.js","node_modules/riot/lib/browser/common/util/dom/create-fragment.js","node_modules/riot/lib/browser/common/util/dom/safe-insert.js","node_modules/riot/lib/browser/common/util/dom/style-object-to-string.js","node_modules/riot/lib/browser/common/util/dom/walk-nodes.js","node_modules/riot/lib/browser/common/util/dom/index.js","node_modules/riot/lib/browser/common/util/checks/is-nil.js","node_modules/riot/lib/browser/common/util/checks/is-blank.js","node_modules/riot/lib/browser/common/util/checks/is-function.js","node_modules/riot/lib/browser/common/util/checks/is-object.js","node_modules/riot/lib/browser/common/util/checks/is-svg.js","node_modules/riot/lib/browser/common/util/checks/is-array.js","node_modules/riot/lib/browser/common/util/checks/is-boolean-attribute.js","node_modules/riot/lib/browser/common/util/checks/is-string.js","node_modules/riot/lib/browser/common/util/checks/index.js","node_modules/riot/lib/browser/common/util/misc/contains.js","node_modules/riot/lib/browser/common/util/misc/each.js","node_modules/riot/lib/browser/common/util/misc/starts-with.js","node_modules/riot/lib/browser/common/util/misc/uid.js","node_modules/riot/lib/browser/common/util/misc/define.js","node_modules/riot/lib/browser/common/util/misc/to-camel.js","node_modules/riot/lib/browser/common/util/misc/warn.js","node_modules/riot/lib/browser/common/util/misc/index.js","node_modules/riot/lib/browser/common/util/tags/arrayish-add.js","node_modules/riot/lib/browser/common/util/tags/get.js","node_modules/riot/lib/browser/common/util/tags/get-name.js","node_modules/riot/lib/browser/common/util/tags/inherit-parent-properties.js","node_modules/riot/lib/browser/tag/mkdom.js","node_modules/riot/lib/browser/common/util/tags/get-immediate-custom-parent.js","node_modules/riot/lib/browser/tag/setEventHandler.js","node_modules/riot/lib/browser/common/util/tags/init-child.js","node_modules/riot/lib/browser/common/util/tags/arrayish-remove.js","node_modules/riot/lib/browser/common/util/tags/make-virtual.js","node_modules/riot/lib/browser/common/util/tags/replace-virtual.js","node_modules/riot/lib/browser/tag/update.js","node_modules/riot/lib/browser/common/util/tags/update-options.js","node_modules/riot/lib/browser/tag/component/update.js","node_modules/riot/lib/browser/common/util/tags/query.js","node_modules/riot/lib/browser/tag/core.js","node_modules/riot/lib/browser/tag/component/mixin.js","node_modules/riot/lib/browser/common/util/tags/move-child.js","node_modules/riot/lib/browser/common/util/tags/move-virtual.js","node_modules/riot/lib/browser/tag/each.js","node_modules/riot/lib/browser/tag/ref.js","node_modules/riot/lib/browser/common/util/tags/create-ref-directive.js","node_modules/riot/lib/browser/common/util/tags/unmount-all.js","node_modules/riot/lib/browser/tag/if.js","node_modules/riot/lib/browser/common/util/tags/create-if-directive.js","node_modules/riot/lib/browser/tag/parse.js","node_modules/riot/lib/browser/common/util/tags/set-mount-state.js","node_modules/riot/lib/browser/tag/component/mount.js","node_modules/riot/lib/browser/tag/component/unmount.js","node_modules/riot/lib/browser/tag/tag.js","node_modules/riot/lib/browser/common/util/tags/mount.js","node_modules/riot/lib/browser/common/util/tags/index.js","node_modules/riot/lib/riot.js","app/tags.js","index.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["$","selector","ctx","document","querySelector","__TAGS_CACHE","__TAG_IMPL","YIELD_TAG","GLOBAL_MIXIN","ATTRS_PREFIX","REF_DIRECTIVES","IS_DIRECTIVE","CONDITIONAL_DIRECTIVE","LOOP_DIRECTIVE","LOOP_NO_REORDER_DIRECTIVE","SHOW_DIRECTIVE","HIDE_DIRECTIVE","KEY_DIRECTIVE","RIOT_EVENTS_KEY","T_STRING","T_OBJECT","T_UNDEF","T_FUNCTION","XLINK_NS","SVG_NS","XLINK_REGEX","WIN","window","undefined","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","RE_EVENTS_PREFIX","RE_HTML_ATTRS","CASE_SENSITIVE_ATTRIBUTES","RE_BOOL_ATTRS","IE_VERSION","documentMode","makeElement","name","createElementNS","createElement","setAttribute","dom","val","xlink","exec","setAttributeNS","styleNode","cssTextProp","byName","needsInject","newNode","userNode","id","parentNode","replaceChild","head","appendChild","styleSheet","add","css","inject","style","Object","keys","map","k","join","cssText","innerHTML","remove","skipRegex","beforeReChars","beforeReWords","wordsLastChar","reduce","s","w","slice","RE_REGEX","RE_VN_CHAR","prev","code","pos","test","_skipRegex","start","re","lastIndex","match","next","length","c","indexOf","end","brackets","UNDEF","REGLOB","R_MLCOMMS","R_STRINGS","S_QBLOCKS","source","UNSUPPORTED","RegExp","NEED_ESCAPE","S_QBLOCK2","FINDBRACES","DEFAULT","_pairs","cachedBrackets","_regex","_cache","_settings","_loopback","_rewrite","bp","replace","global","_create","pair","arr","split","Error","concat","_brackets","reOrIdx","str","tmpl","_bp","parts","isexpr","qblocks","prevStr","mark","index","ch","rech","ix","pushQBlock","unescapeStr","push","_pos","_lastIndex","slash","hasExpr","loopKeys","expr","m","key","trim","array","_reset","_setSettings","o","b","defineProperty","set","get","enumerable","settings","riot","_tmpl","data","call","_logErr","bind","clearCache","errorHandler","err","riotData","tagName","__","_riot_id","console","error","message","log","_getTmpl","Function","RE_DQUOTE","RE_QBMARK","qstr","i","j","list","_parseExpr","_","RE_CSNAME","RE_BREND","asText","cnt","jsb","rightContext","skipBraces","_wrapExpr","mm","lv","ir","JS_CONTEXT","JS_VARNAME","JS_NOPROPS","tb","p","mvar","version","getPropDescriptor","getOwnPropertyDescriptor","isUndefined","value","isWritable","obj","descriptor","writable","extend","src","args","arguments","l","create","skipAnonymousTags","autoUpdate","$$","querySelectorAll","createDOMPlaceholder","createTextNode","toggleVisibility","show","display","hidden","getAttribute","removeAttribute","setInnerHTML","container","html","isSvg","node","ownerDocument","importNode","DOMParser","parseFromString","documentElement","walkAttributes","fn","toLowerCase","createFragment","createDocumentFragment","safeInsert","root","curr","insertBefore","styleObjectToString","acc","prop","walkNodes","context","res","firstChild","nextSibling","default","isNil","isBlank","isFunction","isObject","el","owner","ownerSVGElement","isArray","Array","isBoolAttr","isString","contains","item","each","len","startsWith","uid","define","options","configurable","toCamel","toUpperCase","warn","arrayishAdd","ensureArray","dest","isArr","hasIndex","oldIndex","splice","getName","skipDataIs","child","namedTag","inheritParentProps","parent","mkdom","reHasYield","reYieldAll","reYieldSrc","reYieldDest","rootEls","tr","th","td","col","tblTags","GENERIC","SVG","specialTags","select","selectedIndex","tname","childElementCount","replaceYield","ref","text","def","getImmediateCustomParent","tag","ptag","isAnonymous","setEventHandler","handleEvent","handler","e","currentTarget","target","srcElement","which","charCode","keyCode","preventUpdate","isMounted","update","eventName","cb","listeners","removeEventListener","addEventListener","initChild","opts","tags","arrayishRemove","makeVirtual","tail","frag","sib","virts","makeReplaceVirtual","updateDataIs","normalizeAttrName","updateExpression","_tag","isVirtual","unmount","impl","attrs","a","mount","onUnmount","delName","dataIs","attrName","attr","isToggle","isStyleAttr","isClassAttr","wasCreated","hasValue","isObj","JSON","stringify","wasParsedOnce","bool","isRtag","nodeValue","expressions","updateOpts","isLoop","instAttrs","componentUpdate","nextOpts","canTrigger","skipAnonymous","apply","shouldUpdate","trigger","query","filter","t","Tag","tag2","mixin","unregister","onCreate","class","constructor","styleManager","elem","allTags","pushTagsTo","riotTag","nodeList","_el","mixins","globals","mixins_id","mix","g","store","prototype","componentMixin","instance","props","propsBlacklist","proto","getPrototypeOf","getOwnPropertyNames","hasGetterSetter","hasOwnProperty","init","moveChild","newPos","moveVirtual","_each","mkitem","unmountRedundant","items","filteredItemsCount","moveNestedTags","move","nextTag","insert","append","getItemId","keyAttr","originalItem","keyedItem","hasKeyAttrExpr","mustReorder","placeholder","ifExpr","oldItems","hasKeys","removeChild","updateEach","tmpItems","_item","itemId","doReorder","oldPos","isNew","mustAppend","mustCreate","cloneNode","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","refs","createRefDirective","RefExpr","unmountAll","stub","pristine","current","parseExpressions","updateAllExpressions","createIfDirective","IfExpr","parseAttributes","mustIncludeRoot","type","nodeType","tagImpl","attributes","parentElement","outerHTML","hasIsDirective","setMountState","off","componentMount","isPrototypeOf","v","implAttrs","globalMixin","isInline","one","tagUnmount","mustKeepRoot","tagIndex","forEach","createTag","conf","implClass","_innerHTML","check","misc","core","util","vdom","observable","nameA","ageA","nameB","ageB","age","bundleURL","getBundleURLCached","getBundleURL","matches","stack","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","onload","href","Date","now","cssTimeout","reloadCSS","setTimeout","links","module"],"mappings":"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","file":"riotJsTest.f32dfe66.map","sourceRoot":"..","sourcesContent":["/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nexport default function $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}","export\nconst\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n  // tags instances cache\n  __TAGS_CACHE = [],\n  // tags implementation cache\n  __TAG_IMPL = {},\n  YIELD_TAG = 'yield',\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes or attributes\n  ATTRS_PREFIX = 'riot-',\n\n  // Riot Directives\n  REF_DIRECTIVES = ['ref', 'data-ref'],\n  IS_DIRECTIVE = 'data-is',\n  CONDITIONAL_DIRECTIVE = 'if',\n  LOOP_DIRECTIVE = 'each',\n  LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n  SHOW_DIRECTIVE = 'show',\n  HIDE_DIRECTIVE = 'hide',\n  KEY_DIRECTIVE = 'key',\n  RIOT_EVENTS_KEY = '__riot-events__',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n\n  XLINK_NS = 'http://www.w3.org/1999/xlink',\n  SVG_NS = 'http://www.w3.org/2000/svg',\n  XLINK_REGEX = /^xlink:(\\w+)/,\n\n  WIN = typeof window === T_UNDEF ? undefined : window,\n\n  // special native tags that cannot be treated like the others\n  RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n  RE_EVENTS_PREFIX = /^on/,\n  RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n  // some DOM attributes must be normalized\n  CASE_SENSITIVE_ATTRIBUTES = {\n    'viewbox': 'viewBox',\n    'preserveaspectratio': 'preserveAspectRatio'\n  },\n  /**\n   * Matches boolean HTML attributes in the riot tag definition.\n   * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n   * @const {RegExp}\n   * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n   */\n  RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (WIN && WIN.document || {}).documentMode | 0\n","import { SVG_NS } from './../../global-variables'\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @returns { Object } DOM node just created\n */\nexport default function makeElement(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}","import { XLINK_NS, XLINK_REGEX } from './../../global-variables'\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nexport default function setAttribute(dom, name, val) {\n  const xlink = XLINK_REGEX.exec(name)\n  if (xlink && xlink[1])\n    dom.setAttributeNS(XLINK_NS, xlink[1], val)\n  else\n    dom.setAttribute(name, val)\n}","import $ from './../common/util/dom/$'\nimport makeElement from './../common/util/dom/make-element'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport { WIN } from './../common/global-variables'\n\nlet styleNode\n// Create cache and shortcut to the correct property\nlet cssTextProp\nlet byName = {}\nlet needsInject = false\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((() => {\n    // create a new style element with the correct type\n    const newNode = makeElement('style')\n    // replace any user node or insert the new one into the head\n    const userNode = $('style[type=riot]')\n\n    setAttribute(newNode, 'type', 'text/css')\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    } else document.head.appendChild(newNode)\n\n    return newNode\n  }))()\n  cssTextProp = styleNode.styleSheet\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nexport default {\n  styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add(css, name) {\n    byName[name] = css\n    needsInject = true\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject() {\n    if (!WIN || !needsInject) return\n    needsInject = false\n    const style = Object.keys(byName)\n      .map(k => byName[k])\n      .join('\\n')\n    /* istanbul ignore next */\n    if (cssTextProp) cssTextProp.cssText = style\n    else styleNode.innerHTML = style\n  },\n\n  /**\n   * Remove a tag style of injected DOM later.\n   * @param {String} name a registered tagname\n   */\n  remove(name) {\n    delete byName[name]\n    needsInject = true\n  }\n}\n","\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/'\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ]\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '')\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/\n  var RE_VN_CHAR = /[$\\w]/\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos]));\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g\n    var pos = re.lastIndex = start++\n    var match = re.exec(code)[0].match(RE_REGEX)\n\n    if (match) {\n      var next = pos + match[0].length\n\n      pos = prev(code, pos)\n      var c = code[pos]\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos]));\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})()\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\nexport\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    var qblocks = []\n    var prevStr = ''\n    var mark, lastIndex\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2]\n          var rech = FINDBRACES[ch]\n          var ix = 1\n\n          rech.lastIndex = lastIndex\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) ++ix\n              else if (!--ix) break\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2])\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4])\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    parts.qblocks = qblocks\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s\n        prevStr = ''\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos)\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~'\n        qblocks.push(str.slice(_pos, _lastIndex))\n        prevStr += str.slice(start, _pos) + mark\n        start = _lastIndex\n      }\n      return _lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n  _brackets.skipRegex = skipRegex\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n  _brackets.S_QBLOCK2 = S_QBLOCK2\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nexport\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {} }\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    }\n\n    if (_tmpl.errorHandler) _tmpl.errorHandler(err)\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message)\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl) // eslint-disable-line\n      console.log(this.data) // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g\n  var RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n    var qstr = parts.qblocks\n    var expr\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8'\n\n  return _tmpl\n\n})()\n\n",";(function(window, undefined) {var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n  /* istanbul ignore next */\n  // support CommonJS, AMD & browser\n  if (typeof exports === 'object')\n    module.exports = observable\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return observable })\n  else\n    window.observable = observable\n\n})(typeof window != 'undefined' ? window : undefined);","/**\n * Short alias for Object.getOwnPropertyDescriptor\n */\nexport default function getPropDescriptor (o, k) {\n  return Object.getOwnPropertyDescriptor(o, k)\n}","import { T_UNDEF } from './../../global-variables'\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isUndefined(value) {\n  return typeof value === T_UNDEF\n}","import getPropDescriptor from '../misc/get-prop-descriptor'\nimport isUndefined from './is-undefined'\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } true if writable\n */\nexport default function isWritable(obj, key) {\n  const descriptor = getPropDescriptor(obj, key)\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n","import isWritable from '../checks/is-writable'\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nexport default function extend(src) {\n  let obj\n  let i = 1\n  const args = arguments\n  const l = args.length\n\n  for (; i < l; i++) {\n    if (obj = args[i]) {\n      for (const key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}","/**\n * Alias for Object.create\n */\nexport default function create(src) {\n  return Object.create(src)\n}","import extend from './browser/common/util/misc/extend'\nimport create from './browser/common/util/misc/object-create'\nimport { brackets } from 'riot-tmpl'\n\nexport default extend(create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n})","/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nexport default function $$(selector, ctx) {\n  return [].slice.call((ctx || document).querySelectorAll(selector))\n}","/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nexport default function createDOMPlaceholder() {\n  return document.createTextNode('')\n}","/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nexport default function toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none'\n  dom.hidden = show ? false : true\n}","/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nexport default function getAttribute(dom, name) {\n  return dom.getAttribute(name)\n}","/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nexport default function removeAttribute(dom, name) {\n  dom.removeAttribute(name)\n}","import { SVG_NS } from './../../global-variables'\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n * @param { Boolean } isSvg - svg tags should be treated a bit differently\n */\n/* istanbul ignore next */\nexport default function setInnerHTML(container, html, isSvg) {\n  // innerHTML is not supported on svg tags so we neet to treat them differently\n  if (isSvg) {\n    const node = container.ownerDocument.importNode(\n      new DOMParser()\n        .parseFromString(`<svg xmlns=\"${ SVG_NS }\">${ html }</svg>`, 'application/xml')\n        .documentElement,\n      true\n    )\n\n    container.appendChild(node)\n  } else {\n    container.innerHTML = html\n  }\n}","import { RE_HTML_ATTRS } from './../../global-variables'\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nexport default function walkAttributes(html, fn) {\n  if (!html) return\n  let m\n  while (m = RE_HTML_ATTRS.exec(html))\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n}\n","/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nexport default function createFragment() {\n  return document.createDocumentFragment()\n}\n","/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nexport default function safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next)\n}","/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nexport default function styleObjectToString(style) {\n  return Object.keys(style).reduce((acc, prop) => {\n    return `${acc} ${prop}: ${style[prop]};`\n  }, '')\n}","/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nexport default function walkNodes(dom, fn, context) {\n  if (dom) {\n    const res = fn(dom, context)\n    let next\n    // stop the recursion\n    if (res === false) return\n\n    dom = dom.firstChild\n\n    while (dom) {\n      next = dom.nextSibling\n      walkNodes(dom, fn, res)\n      dom = next\n    }\n  }\n}","export { default as $$ } from './$$'\nexport { default as $ } from './$'\nexport { default as createDOMPlaceholder } from './create-placeholder'\nexport { default as mkEl } from './make-element'\nexport { default as setAttr } from './set-attribute'\nexport { default as toggleVisibility } from './toggle-visibility'\nexport { default as getAttr } from './get-attribute'\nexport { default as remAttr } from './remove-attribute'\nexport { default as setInnerHTML } from './set-inner-HTML'\nexport { default as walkAttrs } from './walk-attributes'\nexport { default as createFrag } from './create-fragment'\nexport { default as safeInsert } from './safe-insert'\nexport { default as styleObjectToString } from './style-object-to-string'\nexport { default as walkNodes } from './walk-nodes'","import isUndefined from './is-undefined'\n\n/**\n * Check against the null and undefined values\n * @param   { * }  value -\n * @returns {Boolean} -\n */\nexport default function isNil(value) {\n  return isUndefined(value) || value === null\n}","import isNil from './is-nil'\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nexport default function isBlank(value) {\n  return isNil(value) || value === ''\n}\n","import { T_FUNCTION } from './../../global-variables'\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isFunction(value) {\n  return typeof value === T_FUNCTION\n}","import { T_OBJECT } from './../../global-variables'\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n","/**\n * Check if a DOM node is an svg tag or part of an svg\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nexport default function isSvg(el) {\n  const owner = el.ownerSVGElement\n  return !!owner || owner === null\n}","/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}","import { RE_BOOL_ATTRS } from './../../global-variables'\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nexport default function isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}","import { T_STRING } from './../../global-variables'\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isString(value) {\n  return typeof value === T_STRING\n}\n","export { default as isBlank } from './is-blank'\nexport { default as isFunction } from './is-function'\nexport { default as isObject } from './is-object'\nexport { default as isSvg } from './is-svg'\nexport { default as isWritable } from './is-writable'\nexport { default as isArray } from './is-array'\nexport { default as isBoolAttr } from './is-boolean-attribute'\nexport { default as isNil } from './is-nil'\nexport { default as isString } from './is-string'\nexport { default as isUndefined } from './is-undefined'\n","/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nexport default function contains(array, item) {\n  return array.indexOf(item) !== -1\n}","/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nexport default function each(list, fn) {\n  const len = list ? list.length : 0\n  let i = 0\n  for (; i < len; i++) fn(list[i], i)\n  return list\n}","/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nexport default function startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}","/**\n * Function returning always a unique identifier\n * @returns { Number } - number from 0...n\n */\nexport default (function uid() {\n  let i = -1\n  return () => ++i\n})()\n\n","import extend from './extend'\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nexport default function define(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}","/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nexport default function toCamel(str) {\n  return str.replace(/-(\\w)/g, (_, c) => c.toUpperCase())\n}","/**\n * Warn a message via console\n * @param   {String} message - warning message\n */\nexport default function warn(message) {\n  if (console && console.warn) console.warn(message)\n}\n","export { default as contains } from './contains'\nexport { default as each } from './each'\nexport { default as getPropDescriptor } from './get-prop-descriptor'\nexport { default as startsWith } from './starts-with'\nexport { default as uid } from './uid'\nexport { default as defineProperty } from './define'\nexport { default as objectCreate } from './object-create'\nexport { default as extend } from './extend'\nexport { default as toCamel } from './to-camel'\nexport { default as warn } from './warn'\n","import isArray from '../checks/is-array'\nimport isUndefined from '../checks/is-undefined'\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nexport default function arrayishAdd(obj, key, value, ensureArray, index) {\n  const dest = obj[key]\n  const isArr = isArray(dest)\n  const hasIndex = !isUndefined(index)\n\n  if (dest && dest === value) return\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) obj[key] = [value]\n  else if (!dest) obj[key] = value\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      const oldIndex = dest.indexOf(value)\n      // this item never changed its position\n      if (oldIndex === index) return\n      // remove the item from its old position\n      if (oldIndex !== -1) dest.splice(oldIndex, 1)\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value)\n      } else {\n        dest.push(value)\n      }\n    } else obj[key] = [dest, value]\n  }\n}","import { __TAG_IMPL, IS_DIRECTIVE } from './../../global-variables'\nimport getAttr from '../dom/get-attribute'\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nexport default function get(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}","import { IS_DIRECTIVE } from './../../global-variables'\nimport { tmpl } from 'riot-tmpl'\nimport get from './get'\nimport getAttribute from '../dom/get-attribute'\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nexport default function getName(dom, skipDataIs) {\n  const child = get(dom)\n  const namedTag = !skipDataIs && getAttribute(dom, IS_DIRECTIVE)\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}","import extend from '../misc/extend'\nimport create from '../misc/object-create'\n/**\n * Return a temporary context containing also the parent properties\n * @this Tag\n * @param { Tag } - temporary tag context containing all the parent properties\n */\nexport default function inheritParentProps() {\n  if (this.parent) return extend(create(this), this.parent)\n  return this\n}","import makeElement from './../common/util/dom/make-element'\nimport setInnerHTML from './../common/util/dom/set-inner-HTML'\nimport $ from './../common/util/dom/$'\n\nimport {\n  IE_VERSION,\n  RE_SPECIAL_TAGS,\n  RE_SPECIAL_TAGS_NO_OPTION\n} from './../common/global-variables'\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nconst\n  reHasYield  = /<yield\\b/i,\n  reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n  reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n  reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n  rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n  tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n  GENERIC = 'div',\n  SVG = 'svg'\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  let\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>'\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent\n  parent = el.firstChild\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    const tname = rootEls[tagName]\n    if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) return tmpl\n\n  // be careful with #1343 - string on the source having `$1`\n  const src = {}\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text   // preserve first definition\n    return ''\n  }).trim()\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nexport default function mkdom(tmpl, html, isSvg) {\n  const match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/)\n  const  tagName = match && match[1].toLowerCase()\n  let el = makeElement(isSvg ? SVG : GENERIC)\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html)\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    el = specialTags(el, tmpl, tagName)\n  else\n    setInnerHTML(el, tmpl, isSvg)\n\n  return el\n}\n","/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nexport default function getImmediateCustomParent(tag) {\n  let ptag = tag\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}","import isWritable from './../common/util/checks/is-writable'\nimport contains from './../common/util/misc/contains'\nimport { RE_EVENTS_PREFIX, RIOT_EVENTS_KEY } from '../common/global-variables'\nimport getImmediateCustomParent from './../common/util/tags/get-immediate-custom-parent'\nimport settings from '../../settings'\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  let ptag = this.__.parent\n  let item = this.__.item\n\n  if (!item)\n    while (ptag && !item) {\n      item = ptag.__.item\n      ptag = ptag.__.parent\n    }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) e.target = e.srcElement\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n  e.item = item\n\n  handler.call(this, e)\n\n  // avoid auto updates\n  if (!settings.autoUpdate) return\n\n  if (!e.preventUpdate) {\n    const p = getImmediateCustomParent(this)\n    // fixes #2083\n    if (p.isMounted) p.update()\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nexport default function setEventHandler(name, handler, dom, tag) {\n  let eventName\n  const cb = handleEvent.bind(tag, dom, handler)\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '')\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) tag.__.listeners.push(dom)\n  if (!dom[RIOT_EVENTS_KEY]) dom[RIOT_EVENTS_KEY] = {}\n  if (dom[RIOT_EVENTS_KEY][name]) dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name])\n\n  dom[RIOT_EVENTS_KEY][name] = cb\n  dom.addEventListener(eventName, cb, false)\n}\n","import getName from './get-name'\nimport getImmediateCustomParent from './get-immediate-custom-parent'\nimport arrayishAdd from './arrayish-add'\nimport define from '../misc/define'\nimport createTag from './../../../tag/tag'\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nexport default function initChild(child, opts, innerHTML, parent) {\n  const tag = createTag(child, opts, innerHTML)\n  const tagName = opts.tagName || getName(opts.root, true)\n  const ptag = getImmediateCustomParent(parent)\n  // fix for the parent attribute in the looped elements\n  define(tag, 'parent', ptag)\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag)\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    arrayishAdd(parent.tags, tagName, tag)\n\n  return tag\n}","import isArray from '../checks/is-array'\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nexport default function arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    let index = obj[key].indexOf(value)\n    if (index !== -1) obj[key].splice(index, 1)\n    if (!obj[key].length) delete obj[key]\n    else if (obj[key].length === 1 && !ensureArray) obj[key] = obj[key][0]\n  } else if (obj[key] === value)\n    delete obj[key] // otherwise just delete the key\n}","import createPlaceholder from '../dom/create-placeholder'\nimport createFragment from '../dom/create-fragment'\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nexport default function makeVirtual(src, target) {\n  const head = createPlaceholder()\n  const tail = createPlaceholder()\n  const frag = createFragment()\n  let sib\n  let el\n\n  this.root.insertBefore(head, this.root.firstChild)\n  this.root.appendChild(tail)\n\n  this.__.head = el = head\n  this.__.tail = tail\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    this.__.virts.push(el) // hold for unmounting\n    el = sib\n  }\n\n  if (target)\n    src.insertBefore(frag, target.__.head)\n  else\n    src.appendChild(frag)\n}","import createFragment from '../dom/create-fragment'\nimport makeVirtual from './make-virtual'\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nexport default function makeReplaceVirtual(tag, ref) {\n  const frag = createFragment()\n  makeVirtual.call(tag, frag)\n  ref.parentNode.replaceChild(frag, ref)\n}\n","import { tmpl } from 'riot-tmpl'\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\n\nimport isBlank from './../common/util/checks/is-blank'\nimport isObject from './../common/util/checks/is-object'\nimport isString from './../common/util/checks/is-string'\nimport isFunction from './../common/util/checks/is-function'\n\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport createPlaceholder from './../common/util/dom/create-placeholder'\nimport toggleVisibility from './../common/util/dom/toggle-visibility'\nimport styleObjectToString from './../common/util/dom/style-object-to-string'\n\nimport setEventHandler from './setEventHandler'\n\nimport initChild from './../common/util/tags/init-child'\nimport arrayishRemove from './../common/util/tags/arrayish-remove'\nimport inheritParentProps from './../common/util/tags/inherit-parent-properties'\nimport replaceVirtual from './../common/util/tags/replace-virtual'\n\nimport {\n  __TAG_IMPL,\n  ATTRS_PREFIX,\n  SHOW_DIRECTIVE,\n  HIDE_DIRECTIVE,\n  IE_VERSION,\n  CASE_SENSITIVE_ATTRIBUTES\n} from './../common/global-variables'\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nexport function updateDataIs(expr, parent, tagName) {\n  let tag = expr.tag || expr.dom._tag\n  let ref\n\n  const { head } = tag ? tag.__ : {}\n  const isVirtual = expr.dom.tagName === 'VIRTUAL'\n\n  if (tag && expr.tagName === tagName) {\n    tag.update()\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createPlaceholder()\n      head.parentNode.insertBefore(ref, head)\n    }\n\n    tag.unmount(true)\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) return\n\n  expr.impl = __TAG_IMPL[tagName]\n\n  // unknown implementation\n  if (!expr.impl) return\n\n  expr.tag = tag = initChild(\n    expr.impl, {\n      root: expr.dom,\n      parent,\n      tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  )\n\n  each(expr.attrs, a => setAttribute(tag.root, a.name, a.value))\n  expr.tagName = tagName\n  tag.mount()\n\n  // root exist first time, after use placeholder\n  if (isVirtual) replaceVirtual(tag, ref || tag.root)\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = () => {\n    const delName = tag.opts.dataIs\n    arrayishRemove(tag.parent.tags, delName, tag)\n    arrayishRemove(tag.__.parent.tags, delName, tag)\n    tag.unmount()\n  }\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nexport function normalizeAttrName(attrName) {\n  if (!attrName) return null\n  attrName = attrName.replace(ATTRS_PREFIX, '')\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nexport function updateExpression(expr) {\n  if (this.root && getAttribute(this.root,'virtualized')) return\n\n  const dom = expr.dom\n  // remove the riot- prefix\n  const attrName = normalizeAttrName(expr.attr)\n  const isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName)\n  const isVirtual = expr.root && expr.root.tagName === 'VIRTUAL'\n  const { isAnonymous } = this.__\n  const parent = dom && (expr.parent || dom.parentNode)\n  // detect the style attributes\n  const isStyleAttr = attrName === 'style'\n  const isClassAttr = attrName === 'class'\n\n  let value\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update()\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount()\n      if (isVirtual) {\n        replaceVirtual(expr, expr.root)\n      }\n    }\n    return\n  }\n\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) return expr.update()\n\n  const context = isToggle && !isAnonymous ? inheritParentProps.call(this) : this\n\n  // ...it seems to be a simple expression so we try to calculate its value\n  value = tmpl(expr.expr, context)\n\n  const hasValue = !isBlank(value)\n  const isObj = isObject(value)\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this)\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value)\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n    // remove either riot-* attributes or just the attribute name\n    removeAttribute(dom, getAttribute(dom, expr.attr) ? expr.attr : attrName)\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) value = value ? attrName : false\n  if (expr.isRtag) return updateDataIs(expr, this, value)\n  if (expr.wasParsedOnce && expr.value === value) return\n\n  // update the expression value\n  expr.value = value\n  expr.wasParsedOnce = true\n\n  // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n  if (isObj && !isClassAttr && !isStyleAttr && !isToggle) return\n  // avoid to render undefined/null values\n  if (!hasValue) value = ''\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += ''\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value                    // #1113\n        if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else dom.nodeValue = value\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this)\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value)\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value\n    } else if (hasValue && value !== false) {\n      setAttribute(dom, attrName, value)\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) toggleVisibility(dom, false)\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nexport default function update(expressions) {\n  each(expressions, updateExpression.bind(this))\n}\n","import each from '../misc/each'\nimport { ATTRS_PREFIX } from './../../global-variables'\nimport toCamel from '../misc/to-camel'\nimport { updateExpression } from '../../../tag/update'\nimport inheritParentProps from './inherit-parent-properties'\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nexport default function updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) return\n  const ctx = isLoop ? inheritParentProps.call(this) : parent || this\n\n  each(instAttrs, (attr) => {\n    if (attr.expr) updateExpression.call(ctx, attr.expr)\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value\n  })\n}","import update from '../update'\nimport extend from './../../common/util/misc/extend'\nimport isFunction from './../../common/util/checks/is-function'\nimport updateOpts from './../../common/util/tags/update-options'\n\n/**\n * Update the tag expressions and options\n * @param { Tag } tag - tag object\n * @param { * } data - data we want to use to extend the tag properties\n * @param { Array } expressions - component expressions array\n * @returns { Tag } the current tag instance\n */\nexport default function componentUpdate(tag, data, expressions) {\n  const __ = tag.__\n  const nextOpts = {}\n  const canTrigger = tag.isMounted && !__.skipAnonymous\n\n  // inherit properties from the parent tag\n  if (__.isAnonymous && __.parent) extend(tag, __.parent)\n  extend(tag, data)\n\n  updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, nextOpts, __.instAttrs])\n\n  if (\n    canTrigger &&\n    tag.isMounted &&\n    isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n  ) {\n    return tag\n  }\n\n  extend(tag.opts, nextOpts)\n\n  if (canTrigger) tag.trigger('update', data)\n  update.call(tag, expressions)\n  if (canTrigger) tag.trigger('updated')\n\n  return tag\n}","import {\n  __TAG_IMPL,\n  IS_DIRECTIVE\n} from './../../global-variables'\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nexport default function query(tags) {\n  // select all tags\n  if (!tags) {\n    const keys = Object.keys(__TAG_IMPL)\n    return keys + query(keys)\n  }\n\n  return tags\n    .filter(t => !/[^-\\w]/.test(t))\n    .reduce((list, t) => {\n      const name = t.trim().toLowerCase()\n      return list + `,[${IS_DIRECTIVE}=\"${name}\"]`\n    }, '')\n}","import styleManager from './styleManager'\nimport isString from './../common/util/checks/is-string'\nimport isUndefined from './../common/util/checks/is-undefined'\nimport isObject from './../common/util/checks/is-object'\nimport isFunction from './../common/util/checks/is-function'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport $$ from './../common/util/dom/$$'\nimport each from './../common/util/misc/each'\nimport extend from './../common/util/misc/extend'\nimport mountTo from './../common/util/tags/mount'\nimport query from './../common/util/tags/query'\n\nimport {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n  GLOBAL_MIXIN,\n  IS_DIRECTIVE\n} from './../common/global-variables'\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nexport function Tag(el, opts) {\n  // get the tag properties from the class constructor\n  const {name, tmpl, css, attrs, onCreate} = this\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag(name, tmpl, css, attrs, onCreate)\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this)\n  // inject the component css\n  if (css) styleManager.inject()\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else\n      attrs = ''\n  }\n\n  if (css) {\n    if (isFunction(css))\n      fn = css\n    else\n      styleManager.add(css, name)\n  }\n\n  name = name.toLowerCase()\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag2(name, tmpl, css, attrs, fn) {\n  if (css) styleManager.add(css, name)\n\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nexport function mount(selector, tagName, opts) {\n  const tags = []\n  let elem, allTags\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      let riotTag = getAttribute(root, IS_DIRECTIVE), tag\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttribute(root, IS_DIRECTIVE, tagName)\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag)\n        tags.push(tag)\n    } else if (root.length)\n      each(root, pushTagsTo) // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = query() :\n      // or just the ones named like the selector\n      selector + query(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    elem = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || query()\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      elem = $$(tagName, elem)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n\n      each(elem, _el => nodeList.push($$(tagName, _el)))\n\n      elem = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTagsTo(elem)\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nconst mixins = {}\nconst globals = mixins[GLOBAL_MIXIN] = {}\nlet mixins_id = 0\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nexport function mixin(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin(`__${mixins_id++}__`, name, true)\n    return\n  }\n\n  const store = g ? globals : mixins\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      throw new Error(`Unregistered mixin: ${ name }`)\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix)\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nexport function update() {\n  return each(__TAGS_CACHE, tag => tag.update())\n}\n\nexport function unregister(name) {\n  styleManager.remove(name)\n  return delete __TAG_IMPL[name]\n}\n\nexport const version = 'WIP'\n","import { mixin } from './../core'\nimport isString from './../../common/util/checks/is-string'\nimport isFunction from './../../common/util/checks/is-function'\nimport each from './../../common/util/misc/each'\nimport contains from './../../common/util/misc/contains'\nimport getPropDescriptor from './../../common/util/misc/get-prop-descriptor'\n\n/**\n * Add a mixin to this tag\n * @returns { Tag } the current tag instance\n */\nexport default function componentMixin(tag, ...mixins) {\n  each(mixins, (mix) => {\n    let instance\n    let obj\n    let props = []\n\n    // properties blacklisted and will not be bound to the tag instance\n    const propsBlacklist = ['init', '__proto__']\n\n    mix = isString(mix) ? mixin(mix) : mix\n\n    // check if the mixin is a function\n    if (isFunction(mix)) {\n      // create the new mixin instance\n      instance = new mix()\n    } else instance = mix\n\n    const proto = Object.getPrototypeOf(instance)\n\n    // build multilevel prototype inheritance chain property list\n    do props = props.concat(Object.getOwnPropertyNames(obj || instance))\n    while (obj = Object.getPrototypeOf(obj || instance))\n\n    // loop the keys in the function prototype or the all object keys\n    each(props, (key) => {\n      // bind methods to tag\n      // allow mixins to override other properties/parent mixins\n      if (!contains(propsBlacklist, key)) {\n        // check for getters/setters\n        const descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key)\n        const hasGetterSetter = descriptor && (descriptor.get || descriptor.set)\n\n        // apply method only if it does not already exist on the instance\n        if (!tag.hasOwnProperty(key) && hasGetterSetter) {\n          Object.defineProperty(tag, key, descriptor)\n        } else {\n          tag[key] = isFunction(instance[key]) ?\n            instance[key].bind(tag) :\n            instance[key]\n        }\n      }\n    })\n\n    // init method will be called automatically\n    if (instance.init)\n      instance.init.bind(tag)(tag.opts)\n  })\n\n  return tag\n}","import isArray from '../checks/is-array'\nimport arrayishAdd from './arrayish-add'\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nexport default function moveChild(tagName, newPos) {\n  const parent = this.parent\n  let tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0])\n  else arrayishAdd(parent.tags, tagName, this)\n}","import createFragment from '../dom/create-fragment'\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nexport default function moveVirtual(src, target) {\n  let el = this.__.head\n  let sib\n  const frag = createFragment()\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    el = sib\n    if (el === this.__.tail) {\n      frag.appendChild(el)\n      src.insertBefore(frag, target.__.head)\n      break\n    }\n  }\n}","import {\n  T_STRING,\n  T_OBJECT,\n  __TAG_IMPL,\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  LOOP_NO_REORDER_DIRECTIVE,\n  KEY_DIRECTIVE\n} from './../common/global-variables'\n\nimport isString from './../common/util/checks/is-string'\nimport isArray from './../common/util/checks/is-array'\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport createPlaceholder from './../common/util/dom/create-placeholder'\nimport safeInsert from './../common/util/dom/safe-insert'\nimport createFragment from './../common/util/dom/create-fragment'\n\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\nimport create from './../common/util/misc/object-create'\nimport extend from './../common/util/misc/extend'\n\nimport moveChild from './../common/util/tags/move-child'\nimport getTag from './../common/util/tags/get'\nimport getTagName from './../common/util/tags/get-name'\nimport arrayishAdd from './../common/util/tags/arrayish-add'\nimport arrayishRemove from './../common/util/tags/arrayish-remove'\nimport makeVirtual from './../common/util/tags/make-virtual'\nimport moveVirtual from './../common/util/tags/move-virtual'\n\nimport createTag from './tag'\nimport { tmpl } from 'riot-tmpl'\n\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val) {\n  const item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags, filteredItemsCount) {\n  let i = tags.length\n  const j = items.length - filteredItemsCount\n\n  while (i > j) {\n    i--\n    remove.apply(tags[i], [tags, i])\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1)\n  this.unmount()\n  arrayishRemove(this.parent, this, this.__.tagName, true)\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  each(Object.keys(this.tags), (tagName) => {\n    moveChild.apply(this.tags[tagName], [tagName, i])\n  })\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    moveVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    makeVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    makeVirtual.call(this, root)\n  else\n    root.appendChild(this.root)\n}\n\n/**\n * Return the value we want to use to lookup the postion of our items in the collection\n * @param   { String }  keyAttr         - lookup string or expression\n * @param   { * }       originalItem    - original item from the collection\n * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n * @returns { * } value that we will use to figure out the item position via collection.indexOf\n */\nfunction getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n  if (keyAttr) {\n    return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n  }\n\n  return originalItem\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nexport default function _each(dom, parent, expr) {\n  const mustReorder = typeof getAttribute(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || removeAttribute(dom, LOOP_NO_REORDER_DIRECTIVE)\n  const keyAttr = getAttribute(dom, KEY_DIRECTIVE)\n  const hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false\n  const tagName = getTagName(dom)\n  const impl = __TAG_IMPL[tagName]\n  const parentNode = dom.parentNode\n  const placeholder = createPlaceholder()\n  const child = getTag(dom)\n  const ifExpr = getAttribute(dom, CONDITIONAL_DIRECTIVE)\n  const tags = []\n  const isLoop = true\n  const innerHTML = dom.innerHTML\n  const isAnonymous = !__TAG_IMPL[tagName]\n  const isVirtual = dom.tagName === 'VIRTUAL'\n  let oldItems = []\n  let hasKeys\n\n  // remove the each property from the original tag\n  removeAttribute(dom, LOOP_DIRECTIVE)\n  removeAttribute(dom, KEY_DIRECTIVE)\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n  expr.isLoop = true\n\n  if (ifExpr) removeAttribute(dom, CONDITIONAL_DIRECTIVE)\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom)\n  parentNode.removeChild(dom)\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent)\n\n    let items = expr.value\n    const frag = createFragment()\n    const isObject = !isArray(items) && !isString(items)\n    const root = placeholder.parentNode\n    const tmpItems = []\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) return\n\n    // object loop. any changes cause full redraw\n    if (isObject) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(key => mkitem(expr, items[key], key)) : []\n    } else {\n      hasKeys = false\n    }\n\n    // store the amount of filtered items\n    let filteredItemsCount = 0\n\n    // loop all the new items\n    each(items, (_item, i) => {\n      i -= filteredItemsCount\n\n      const item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item\n\n      // skip this item because it must be filtered\n      if (ifExpr && !tmpl(ifExpr, extend(create(parent), item))) {\n        filteredItemsCount ++\n        return\n      }\n\n      const itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr)\n      // reorder only if the items are objects\n      const doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys\n      const oldPos = oldItems.indexOf(itemId)\n      const isNew = oldPos === -1\n      const pos = !isNew && doReorder ? oldPos : i\n      // does a tag exist in this position?\n      let tag = tags[pos]\n      const mustAppend = i >= oldItems.length\n      const mustCreate =  doReorder && isNew || !doReorder && !tag\n\n      // new tag\n      if (mustCreate) {\n        tag = createTag(impl, {\n          parent,\n          isLoop,\n          isAnonymous,\n          tagName,\n          root: dom.cloneNode(isAnonymous),\n          item,\n          index: i,\n        }, innerHTML)\n\n        // mount the tag\n        tag.mount()\n\n        if (mustAppend)\n          append.apply(tag, [frag || root, isVirtual])\n        else\n          insert.apply(tag, [root, tags[i], isVirtual])\n\n        if (!mustAppend) oldItems.splice(i, 0, item)\n        tags.splice(i, 0, tag)\n        if (child) arrayishAdd(parent.tags, tagName, tag, true)\n      } else if (pos !== i && doReorder) {\n        // move\n        if (keyAttr || contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual])\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0])\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) tag[expr.pos] = i\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags.call(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      extend(tag.__, {\n        item,\n        index: i,\n        parent\n      })\n\n      tmpItems[i] = itemId\n\n      if (!mustCreate) tag.update(item)\n    })\n\n    // remove the redundant tags\n    unmountRedundant(items, tags, filteredItemsCount)\n\n    // clone the items array\n    oldItems = tmpItems.slice()\n\n    root.insertBefore(frag, placeholder)\n  }\n\n  expr.unmount = () => {\n    each(tags, t => { t.unmount() })\n  }\n\n  return expr\n}","import { tmpl } from 'riot-tmpl'\nimport isBlank from './../common/util/checks/is-blank'\nimport isString from './../common/util/checks/is-string'\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\n\nimport {\n  getImmediateCustomParentTag,\n  arrayishAdd,\n  arrayishRemove\n} from './../common/util/tags'\n\nexport default {\n  init(dom, parent, attrName, attrValue) {\n    this.dom = dom\n    this.attr = attrName\n    this.rawValue = attrValue\n    this.parent = parent\n    this.hasExp = tmpl.hasExpr(attrValue)\n    return this\n  },\n  update() {\n    const old = this.value\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    const tagOrDom = this.dom.__ref || this.tag || this.dom\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) arrayishRemove(customParent.refs, old, tagOrDom)\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      )\n\n      if (this.value !== old) {\n        setAttribute(this.dom, this.attr, this.value)\n      }\n    } else {\n      removeAttribute(this.dom, this.attr)\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) this.dom.__ref = tagOrDom\n  },\n  unmount() {\n    const tagOrDom = this.tag || this.dom\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    if (!isBlank(this.value) && customParent)\n      arrayishRemove(customParent.refs, this.value, tagOrDom)\n  }\n}","import RefExpr from '../../../tag/ref'\nimport create from '../misc/object-create'\n\n/**\n * Create a new ref directive\n * @param   { HTMLElement } dom - dom node having the ref attribute\n * @param   { Tag } context - tag instance where the DOM node is located\n * @param   { String } attrName - either 'ref' or 'data-ref'\n * @param   { String } attrValue - value of the ref attribute\n * @returns { RefExpr } a new RefExpr object\n */\nexport default function createRefDirective(dom, tag, attrName, attrValue) {\n  return create(RefExpr).init(dom, tag, attrName, attrValue)\n}","import each from '../misc/each'\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nexport default function unmountAll(expressions) {\n  each(expressions, expr => {\n    if (expr.unmount) expr.unmount(true)\n    else if (expr.tagName) expr.tag.unmount(true)\n    else if (expr.unmount) expr.unmount()\n  })\n}","import removeAttribute from './../common/util/dom/remove-attribute'\nimport createPlacholder from './../common/util/dom/create-placeholder'\nimport unmountAll from './../common/util/tags/unmount-all'\nimport extend from './../common/util/misc/extend'\nimport { tmpl } from 'riot-tmpl'\nimport { CONDITIONAL_DIRECTIVE } from './../common/global-variables'\nimport { parseExpressions } from './parse'\nimport updateAllExpressions from './update'\n\nexport default {\n  init(dom, tag, expr) {\n    removeAttribute(dom, CONDITIONAL_DIRECTIVE)\n    extend(this, { tag, expr, stub: createPlacholder(), pristine: dom })\n    const p = dom.parentNode\n    p.insertBefore(this.stub, dom)\n    p.removeChild(dom)\n\n    return this\n  },\n  update() {\n    this.value = tmpl(this.expr, this.tag)\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true)\n      this.stub.parentNode.insertBefore(this.current, this.stub)\n      this.expressions = parseExpressions.apply(this.tag, [this.current, true])\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions)\n      if (this.current._tag) {\n        this.current._tag.unmount()\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current)\n      }\n      this.current = null\n      this.expressions = []\n    }\n\n    if (this.value) updateAllExpressions.call(this.tag, this.expressions)\n  },\n  unmount() {\n    unmountAll(this.expressions || [])\n  }\n}","import IfExpr from '../../../tag/if'\nimport create from '../misc/object-create'\n\n/**\n * Create a new if directive\n * @param   { HTMLElement } dom - if root dom node\n * @param   { Tag } context - tag instance where the DOM node is located\n * @param   { String } attr - if expression\n * @returns { IFExpr } a new IfExpr object\n */\nexport default function createIfDirective(dom, tag, attr) {\n  return create(IfExpr).init(dom, tag, attr)\n}","import _each from './each'\nimport { tmpl } from 'riot-tmpl'\nimport {\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  IS_DIRECTIVE,\n  REF_DIRECTIVES,\n  YIELD_TAG\n} from './../common/global-variables'\n\nimport createRefDirective from './../common/util/tags/create-ref-directive'\nimport createIfDirective from './../common/util/tags/create-if-directive'\nimport isBoolAttr from './../common/util/checks/is-boolean-attribute'\nimport walkNodes from './../common/util/dom/walk-nodes'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\nimport warn from './../common/util/misc/warn'\nimport getTag from './../common/util/tags/get'\nimport initChild from './../common/util/tags/init-child'\nimport createTag from './tag'\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Array } all the expressions found\n */\nexport function parseExpressions(root, mustIncludeRoot) {\n  const expressions = []\n\n  walkNodes(root, (dom) => {\n    const type = dom.nodeType\n    let attr\n    let tagImpl\n\n    if (!mustIncludeRoot && dom === root) return\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      expressions.push({dom, expr: dom.nodeValue})\n\n    if (type !== 1) return\n\n    const isVirtual = dom.tagName === 'VIRTUAL'\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttribute(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) setAttribute(dom, 'loopVirtual', true) // ignore here, handled in _each\n      expressions.push(_each(dom, this, attr))\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttribute(dom, CONDITIONAL_DIRECTIVE)) {\n      expressions.push(createIfDirective(dom, this, attr))\n      return false\n    }\n\n    if (attr = getAttribute(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(attr)) {\n        expressions.push({\n          isRtag: true,\n          expr: attr,\n          dom,\n          attrs: [].slice.call(dom.attributes)\n        })\n\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom)\n\n    if(isVirtual) {\n      if(getAttribute(dom, 'virtualized')) {dom.parentElement.removeChild(dom) } // tag created, remove from dom\n      if(!tagImpl && !getAttribute(dom, 'virtualized') && !getAttribute(dom, 'loopVirtual'))  // ok to create virtual tag\n        tagImpl = { tmpl: dom.outerHTML }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      const hasIsDirective = getAttribute(dom, IS_DIRECTIVE)\n      if(isVirtual && !hasIsDirective) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttribute(dom, 'virtualized', true)\n        const tag = createTag(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this},\n          dom.innerHTML\n        )\n\n        expressions.push(tag) // no return, anonymous tag, keep parsing\n      } else {\n        if (hasIsDirective && isVirtual)\n          warn(`Virtual tags shouldn't be used together with the \"${IS_DIRECTIVE}\" attribute - https://github.com/riot/riot/issues/2511`)\n\n        expressions.push(\n          initChild(\n            tagImpl,\n            {\n              root: dom,\n              parent: this\n            },\n            dom.innerHTML,\n            this\n          )\n        )\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this, [dom, dom.attributes, (attr, expr) => {\n      if (!expr) return\n      expressions.push(expr)\n    }])\n  })\n\n  return expressions\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nexport function parseAttributes(dom, attrs, fn) {\n  each(attrs, (attr) => {\n    if (!attr) return false\n\n    const name = attr.name\n    const bool = isBoolAttr(name)\n    let expr\n\n    if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n      expr =  createRefDirective(dom, this, name, attr.value)\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom, expr: attr.value, attr: name, bool}\n    }\n\n    fn(attr, expr)\n  })\n}\n","import define from '../misc/define'\n\n/**\n * Manage the mount state of a tag triggering also the observable events\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nexport default function setMountState(value) {\n  const { isAnonymous } = this.__\n\n  define(this, 'isMounted', value)\n\n  if (!isAnonymous) {\n    if (value) this.trigger('mount')\n    else {\n      this.trigger('unmount')\n      this.off('*')\n      this.__.wasCreated = false\n    }\n  }\n}","import { parseExpressions, parseAttributes } from '../parse'\nimport RefExpr from '../ref'\nimport { mixin } from '../core'\n\nimport { GLOBAL_MIXIN } from './../../common/global-variables'\n\nimport setAttribute from './../../common/util/dom/set-attribute'\nimport walkAttributes from './../../common/util/dom/walk-attributes'\n\nimport each from './../../common/util/misc/each'\nimport define from './../../common/util/misc/define'\n\nimport getImmediateCustomParent from './../../common/util/tags/get-immediate-custom-parent'\nimport updateOpts from './../../common/util/tags/update-options'\nimport setMountState from './../../common/util/tags/set-mount-state'\n\n/**\n * Mount the current tag instance\n * @returns { Tag } the current tag instance\n */\nexport default function componentMount(tag, dom, expressions, opts) {\n  const __ = tag.__\n  const root = __.root\n  root._tag = tag // keep a reference to the tag just created\n\n  // Read all the attrs on this instance. This give us the info we need for updateOpts\n  parseAttributes.apply(__.parent, [root, root.attributes, (attr, expr) => {\n    if (!__.isAnonymous && RefExpr.isPrototypeOf(expr)) expr.tag = tag\n    attr.expr = expr\n    __.instAttrs.push(attr)\n  }])\n\n  // update the root adding custom attributes coming from the compiler\n  walkAttributes(__.impl.attrs, (k, v) => { __.implAttrs.push({name: k, value: v}) })\n  parseAttributes.apply(tag, [root, __.implAttrs, (attr, expr) => {\n    if (expr) expressions.push(expr)\n    else setAttribute(root, attr.name, attr.value)\n  }])\n\n  // initialiation\n  updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, opts, __.instAttrs])\n\n  // add global mixins\n  const globalMixin = mixin(GLOBAL_MIXIN)\n\n  if (globalMixin && !__.skipAnonymous) {\n    for (const i in globalMixin) {\n      if (globalMixin.hasOwnProperty(i)) {\n        tag.mixin(globalMixin[i])\n      }\n    }\n  }\n\n  if (__.impl.fn) __.impl.fn.call(tag, opts)\n\n  if (!__.skipAnonymous) tag.trigger('before-mount')\n\n  // parse layout after init. fn may calculate args for nested custom tags\n  each(parseExpressions.apply(tag, [dom, __.isAnonymous]), e => expressions.push(e))\n\n  tag.update(__.item)\n\n  if (!__.isAnonymous && !__.isInline) {\n    while (dom.firstChild) root.appendChild(dom.firstChild)\n  }\n\n  define(tag, 'root', root)\n\n  // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n  if (!__.skipAnonymous && tag.parent) {\n    const p = getImmediateCustomParent(tag.parent)\n    p.one(!p.isMounted ? 'mount' : 'updated', () => {\n      setMountState.call(tag, true)\n    })\n  } else {\n    // otherwise it's not a child tag we can trigger its mount event\n    setMountState.call(tag, true)\n  }\n\n  tag.__.wasCreated = true\n\n  return tag\n}","import {\n  __TAGS_CACHE,\n  ATTRS_PREFIX,\n  RIOT_EVENTS_KEY\n} from './../../common/global-variables'\n\nimport removeAttribute from './../../common/util/dom/remove-attribute'\nimport walkAttributes from './../../common/util/dom/walk-attributes'\nimport setInnerHTML from './../../common/util/dom/set-inner-HTML'\nimport each from './../../common/util/misc/each'\nimport startsWith from './../../common/util/misc/starts-with'\n\nimport unmountAll from './../../common/util/tags/unmount-all'\n\nimport arrayishRemove from './../../common/util/tags/arrayish-remove'\nimport getImmediateCustomParent from './../../common/util/tags/get-immediate-custom-parent'\nimport setMountState from './../../common/util/tags/set-mount-state'\n\n\n/**\n * Unmount the tag instance\n * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n * @returns { Tag } the current tag instance\n */\nexport default function tagUnmount(tag, mustKeepRoot, expressions) {\n  const __ = tag.__\n  const root = __.root\n  const tagIndex = __TAGS_CACHE.indexOf(tag)\n  const p = root.parentNode\n\n  if (!__.skipAnonymous) tag.trigger('before-unmount')\n\n  // clear all attributes coming from the mounted tag\n  walkAttributes(__.impl.attrs, (name) => {\n    if (startsWith(name, ATTRS_PREFIX))\n      name = name.slice(ATTRS_PREFIX.length)\n\n    removeAttribute(root, name)\n  })\n\n  // remove all the event listeners\n  tag.__.listeners.forEach((dom) => {\n    Object.keys(dom[RIOT_EVENTS_KEY]).forEach((eventName) => {\n      dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName])\n    })\n  })\n\n  // remove tag instance from the global tags cache collection\n  if (tagIndex !== -1) __TAGS_CACHE.splice(tagIndex, 1)\n\n  // clean up the parent tags object\n  if (__.parent && !__.isAnonymous) {\n    const ptag = getImmediateCustomParent(__.parent)\n\n    if (__.isVirtual) {\n      Object\n        .keys(tag.tags)\n        .forEach(tagName => arrayishRemove(ptag.tags, tagName, tag.tags[tagName]))\n    } else {\n      arrayishRemove(ptag.tags, __.tagName, tag)\n    }\n  }\n\n  // unmount all the virtual directives\n  if (tag.__.virts) {\n    each(tag.__.virts, (v) => {\n      if (v.parentNode) v.parentNode.removeChild(v)\n    })\n  }\n\n  // allow expressions to unmount themselves\n  unmountAll(expressions)\n  each(__.instAttrs, a => a.expr && a.expr.unmount && a.expr.unmount())\n\n  // clear the tag html if it's necessary\n  if (mustKeepRoot) setInnerHTML(root, '')\n  // otherwise detach the root tag from the DOM\n  else if (p) p.removeChild(root)\n\n  // custom internal unmount function to avoid relying on the observable\n  if (__.onUnmount) __.onUnmount()\n\n  // weird fix for a weird edge case #2409 and #2436\n  // some users might use your software not as you've expected\n  // so I need to add these dirty hacks to mitigate unexpected issues\n  if (!tag.isMounted) setMountState.call(tag, true)\n\n  setMountState.call(tag, false)\n\n  delete root._tag\n\n  return tag\n}","import observable from 'riot-observable'\nimport mkdom from './mkdom'\nimport settings from '../../settings'\nimport isSvg from './../common/util/checks/is-svg'\nimport extend from './../common/util/misc/extend'\nimport uid from './../common/util/misc/uid'\nimport define from './../common/util/misc/define'\nimport getTagName from './../common/util/tags/get-name'\nimport componentUpdate from './component/update'\nimport componentMixin from './component/mixin'\nimport componentMount from './component/mount'\nimport componentUnmount from './component/unmount'\n\n\n/**\n * Tag creation factory function\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nexport default function createTag(impl = {}, conf = {}, innerHTML) {\n  const tag = conf.context || {}\n  const opts = extend({}, conf.opts)\n  const parent = conf.parent\n  const isLoop = conf.isLoop\n  const isAnonymous = !!conf.isAnonymous\n  const skipAnonymous = settings.skipAnonymousTags && isAnonymous\n  const item = conf.item\n  // available only for the looped nodes\n  const index = conf.index\n  // All attributes on the Tag when it's first parsed\n  const instAttrs = []\n  // expressions on this type of Tag\n  const implAttrs = []\n  const expressions = []\n  const root = conf.root\n  const tagName = conf.tagName || getTagName(root)\n  const isVirtual = tagName === 'virtual'\n  const isInline = !isVirtual && !impl.tmpl\n  let dom\n\n  // make this tag observable\n  if (!skipAnonymous) observable(tag)\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  define(tag, 'isMounted', false)\n\n  define(tag, '__', {\n    impl,\n    root,\n    skipAnonymous,\n    implAttrs,\n    isAnonymous,\n    instAttrs,\n    innerHTML,\n    tagName,\n    index,\n    isLoop,\n    isInline,\n    item,\n    parent,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null\n  })\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  define(tag, '_riot_id', uid()) // base 1 allows test !t._riot_id\n  define(tag, 'root', root)\n  extend(tag, { opts }, item)\n  // protect the \"tags\" and \"refs\" property from being overridden\n  define(tag, 'parent', parent || null)\n  define(tag, 'tags', {})\n  define(tag, 'refs', {})\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root\n  } else {\n    if (!isVirtual) root.innerHTML = ''\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root))\n  }\n\n  define(tag, 'update', (data) => componentUpdate(tag, data, expressions))\n  define(tag, 'mixin', (...mixins) => componentMixin(tag, ...mixins))\n  define(tag, 'mount', () => componentMount(tag, dom, expressions, opts))\n  define(tag, 'unmount', (mustKeepRoot) => componentUnmount(tag, mustKeepRoot, expressions))\n\n  return tag\n}\n","import {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n} from './../../global-variables'\nimport extend from '../misc/extend'\nimport contains from '../misc/contains'\nimport create from '../misc/object-create'\nimport createTag from './../../../tag/tag'\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nexport default function mount(root, tagName, opts, ctx) {\n  const impl = __TAG_IMPL[tagName]\n  const implClass = __TAG_IMPL[tagName].class\n  const context = ctx || (implClass ? create(implClass.prototype) : {})\n  // cache the inner HTML to fix #855\n  const innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n  const conf = extend({ root, opts, context }, { parent: opts ? opts.parent : null })\n  let tag\n\n  if (impl && root) tag = createTag(impl, conf, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount(true)\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) __TAGS_CACHE.push(tag)\n  }\n\n  return tag\n}","export { default as arrayishAdd } from './arrayish-add'\nexport { default as getTagName } from './get-name'\nexport { default as inheritParentProps } from './inherit-parent-properties'\nexport { default as mountTo } from './mount'\nexport { default as selectTags } from './query'\nexport { default as arrayishRemove } from './arrayish-remove'\nexport { default as getTag } from './get'\nexport { default as initChildTag } from './init-child'\nexport { default as moveChildTag } from './move-child'\nexport { default as makeReplaceVirtual } from './replace-virtual'\nexport { default as getImmediateCustomParentTag } from './get-immediate-custom-parent'\nexport { default as makeVirtual } from './make-virtual'\nexport { default as moveVirtual } from './move-virtual'\nexport { default as unmountAll } from './unmount-all'\nexport { default as createIfDirective } from './create-if-directive'\nexport { default as createRefDirective } from './create-ref-directive'","import styleManager from './browser/tag/styleManager'\nimport { tmpl, brackets } from 'riot-tmpl'\nimport o from 'riot-observable'\nimport s from './settings'\nimport { __TAGS_CACHE as vdom } from './browser/common/global-variables'\nimport * as dom from './browser/common/util/dom'\nimport * as check from './browser/common/util/checks' // avoid to add breaking changes\nimport * as misc from './browser/common/util/misc'\nimport * as tags from './browser/common/util/tags'\nimport * as core from './browser/tag/core'\n\n/**\n * Riot public api\n */\nexport const settings = s\nexport const util = {\n  tmpl,\n  brackets,\n  styleManager,\n  vdom,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom,\n  check,\n  misc,\n  tags\n}\n\n// export the core props/methods\nexport const Tag = core.Tag\nexport const tag = core.tag\nexport const tag2 = core.tag2\nexport const mount = core.mount\nexport const mixin = core.mixin\nexport const update = core.update\nexport const unregister = core.unregister\nexport const version = core.version\nexport const observable = o\n\nexport default misc.extend({}, core, {\n  observable: o,\n  settings,\n  util,\n})\n","import riot from 'riot'\nriot.tag2('app', '<title>riotTest</title> <h1>Hello, parcel world!</h1> <h3>{nameA}</h3> <p>{ageA}</p> <h3>{nameB}</h3> <p>{ageB}</p>', '', '', function(opts) {\n  \tthis.nameA = \"{nameA}\";\n\tthis.ageA = \"{ageA}\";\n  \tthis.nameB = opts.name;\n\tthis.ageB = opts.age;\n});\n","import riot from 'riot'\nimport './app/tags'\nimport './style/main.sass'\n\nriot.mount('App')","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}